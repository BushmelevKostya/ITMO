	ORG 0x0
V0:	WORD $DEFAULT, 0x180
V1:	WORD $INT1, 0x180
V2:	WORD $INT2, 0x180
V3:	WORD $INT3, 0x180
V4:	WORD $DEFAULT, 0x180
V5:	WORD $DEFAULT, 0x180
V6:	WORD $DEFAULT, 0x180
V7:	WORD $DEFAULT, 0x180

DEFAULT:	IRET

	ORG 0x20
MAX_VALUE:	WORD 0x12
MIN_VALUE:	WORD 0xFFEE
X:	WORD $MAX_VALUE

	ORG 0x23
START:	DI
	CLA
	OUT 0
	OUT 2
	IN 4
	OUT 6
	OUT 9
	OUT 0xC
	OUT 0x10
	OUT 0x14
	LD #0xA
	OUT 5
	LD #0xB
	OUT 7
	JUMP $PROG

	ORG 0x35
PROG:	DI
	LD MAX_VALUE
	ST X
	CLA
DECLP:	DI
	LD X
	PUSH
	SUB MIN_VALUE
	BEQ UPDATEX
	POP
	DEC
	ST X
	EI
	JUMP DECLP	
UPDATEX:	LD MAX_VALUE
	ST X
	EI
	JUMP DECLP
	
	ORG 0x50
INT1:	OUT 2
	IRET

INT2:	NOP
	PUSH
	IN 4
	AND #0xF
	ST X
	NOP
	POP
	IRET
	
INT3:	NOP
	CALL FUNC
	NOP
	IRET

	ORG 0x80
FUNC:	LD X
	ASL
	ASL
	ASL
	SUB X
	ADD #0x80
	OUT 6
	RET	